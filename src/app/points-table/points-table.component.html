<app-navigation></app-navigation>

<div class="container justify-content-around mt-3">
  <h1 class="text-center text-warning font-weight-bold">STANDINGS</h1>

  <div class="mt-3">
    <p-table [columns]="cols" [value]="players" [responsive]="true" class="text-center" sortMode="multiple"
      [multiSortMeta]="[{field: 'correctAnswers', order: -1}, {field: 'wrongAnswers', order: -1}]"
      [resizableColumns]="true" [autoLayout]="true">
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th colspan="4">LEAGUES</th>
        </tr>
        <tr class="pointsTableHeader">
          <th [ngStyle]="{'width':'10%'}">
            Position
          </th>
          <th *ngFor="let col of columns">
            {{col.header}}
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
        <tr class="pointsTableHeader">
          <td [ngStyle]="{'width':'10%'}">
            {{rowIndex + 1}} <span *ngIf="rowIndex < 4" class="text-success"> Q</span>
          </td>
          <td *ngFor="let col of columns" [ngSwitch]="true">
            <span *ngSwitchCase="col.field == 'playerName'">
              {{rowData.playerName | uppercase}}
            </span>
            <span *ngSwitchDefault>{{rowData[col.field]}}</span>
          </td>
        </tr>
      </ng-template>
    </p-table>
    <div class="container">
      <div class="row justify-content-end">
        <small class="text-dark"><span>Note</span> : Players standings based on Correct Answers and No. of
          attempts</small>
      </div>
    </div>
  </div>

  <!--------------------------------------QUALIFER I------------------------------>

  <div class="mt-3">
    <p-table [columns]="cols" [value]="players" [responsive]="true" class="text-center" sortMode="multiple"
      [multiSortMeta]="[{field: 'correctAnswers', order: -1}, {field: 'wrongAnswers', order: -1}]"
      [resizableColumns]="true" [autoLayout]="true">
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th colspan="4">QUALIFIERS - I</th>
        </tr>
        <tr class="pointsTableHeader">
          <th [ngStyle]="{'width':'10%'}">
            Position
          </th>
          <th *ngFor="let col of columns">
            {{col.header}}
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
        <tr class="pointsTableHeader">
          <td [ngStyle]="{'width':'10%'}" *ngIf="rowIndex < 4">
            <!-- {{rowIndex + 1}} -->
            <span class="text-success"> Q</span>
          </td>
          <td *ngFor="let col of columns" [ngSwitch]="true">
            <span *ngSwitchCase="col.field == 'playerName' && rowIndex < 4">
              {{rowData.playerName | uppercase}}
            </span>
            <span *ngSwitchCase="col.field != 'playerName' && rowIndex < 4">{{rowData[col.field]}}</span>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>


  <!---------------------------------QUALIFIER II----------------------------->

  <div class="mt-3">
    <p-table [columns]="cols" [value]="players" [responsive]="true" class="text-center" sortMode="multiple"
      [multiSortMeta]="[{field: 'correctAnswers', order: -1}, {field: 'wrongAnswers', order: -1}]"
      [resizableColumns]="true" [autoLayout]="true">
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th colspan="4">QUALIFIERS - II</th>
        </tr>
        <tr class="pointsTableHeader">
          <th [ngStyle]="{'width':'10%'}">
            Position
          </th>
          <th *ngFor="let col of columns">
            {{col.header}}
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
        <tr class="pointsTableHeader">
          <td [ngStyle]="{'width':'10%'}" *ngIf="rowIndex < 4">
            <!-- {{rowIndex + 1}} -->
            <span class="text-success"> Q</span>
          </td>
          <td *ngFor="let col of columns" [ngSwitch]="true">
            <span *ngSwitchCase="col.field == 'playerName' && rowIndex < 4">
              {{rowData.playerName | uppercase}}
            </span>
            <span *ngSwitchCase="col.field !== 'playerName' && rowIndex < 4">{{rowData[col.field]}}</span>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>